name = "rsi-workers"
main = "src/index.ts"
compatibility_date = "2025-10-01"

[triggers]
crons = ["*/1 * * * *"]  # Every minute

[[kv_namespaces]]
binding = "KV"
id = "537eb17689cb4cb39a13ae58dedaba57"
preview_id = "537eb17689cb4cb39a13ae58dedaba57"

[[d1_databases]]
binding = "DB"
database_name = "rsi-db"
database_id = "548f70f8-9fcb-4bca-952d-5f629c8ebd37"

[vars]
ENVIRONMENT = "production"
YAHOO_ENDPOINT = "https://query1.finance.yahoo.com/v8/finance/chart"
FCM_PROJECT_ID = "rsi-widget-app"

# Secrets (set via wrangler secret put)
# FCM_SERVICE_ACCOUNT_JSON - Full Service Account JSON content (paste entire JSON file)
# YAHOO_API_KEY (if needed)
